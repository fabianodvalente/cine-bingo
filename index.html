<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cine Bingo - Rigor Técnico</title>
    <style>
        :root { --primary: #0a0a0a; --secondary: #c9ada7; --correct: #2d6a4f; --wrong: #a4133c; --text: #f8f9fa; }
        body { font-family: 'Courier New', Courier, monospace; background: var(--primary); color: var(--text); display: flex; flex-direction: column; align-items: center; padding: 15px; margin: 0; }
        #game-container { max-width: 450px; width: 100%; text-align: center; }
        #movie-display { font-size: 1.2rem; font-weight: bold; margin: 20px 0; background: #161616; padding: 25px; border: 1px solid #333; min-height: 40px; display: flex; align-items: center; justify-content: center; text-transform: uppercase; letter-spacing: 2px; }
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px; }
        .cell { background: #1a1a1a; aspect-ratio: 1/1; display: flex; align-items: center; justify-content: center; font-size: 0.65rem; padding: 5px; cursor: pointer; border: 1px solid #444; transition: 0.2s; text-align: center; font-weight: bold; }
        .cell.correct { background: var(--correct); border-color: #40916c; cursor: default; }
        .cell.wrong { background: var(--wrong); }
        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        button { padding: 15px; cursor: pointer; border: 1px solid #666; background: transparent; color: white; font-weight: bold; text-transform: uppercase; font-size: 0.8rem; }
        #wildcard-btn { color: #ffd700; border-color: #ffd700; }
        #status { margin-top: 20px; font-size: 0.75rem; color: #888; letter-spacing: 1px; }
    </style>
</head>
<body>

<div id="game-container">
    <h1 style="font-weight: lighter;">CINE BINGO v3.0</h1>
    <div id="status">OBRA <span id="current-idx">1</span>/40 — CARTELA: <span id="score">0</span>/16</div>
    <div id="movie-display">...</div>
    <div class="grid" id="bingo-grid"></div>
    <div class="controls">
        <button onclick="skipMovie()">SKIP</button>
        <button id="wildcard-btn" onclick="useWildcard()">WILDCARD ✨</button>
    </div>
</div>

<script>
    const movies = [
        { title: "Oppenheimer", attrs: ["EUA", "Venceu Oscar Melhor Filme", "Década de 2020", "Duração +150min"] },
        { title: "Interestelar", attrs: ["EUA", "Duração +150min"] },
        { title: "Blade Runner 2049", attrs: ["EUA", "Duração +150min"] },
        { title: "Anatomia de uma Queda", attrs: ["França", "Venceu Palma de Ouro", "Década de 2020", "Coprodução Internacional"] },
        { title: "Vidas Secas", attrs: ["Brasil", "Preto e Branco", "Baseado em Livro"] },
        { title: "Roma", attrs: ["México", "Preto e Branco", "Estreia em Streaming", "Venceu Oscar Filme Int."] },
        { title: "O Irlandês", attrs: ["EUA", "Duração +150min", "Estreia em Streaming"] },
        { title: "Parasita", attrs: ["Venceu Palma de Ouro", "Venceu Oscar Melhor Filme", "Produção Asiática"] },
        { title: "Bacurau", attrs: ["Brasil", "Coprodução Internacional", "Venceu Prêmio em Cannes"] },
        { title: "Drive My Car", attrs: ["Produção Asiática", "Venceu Oscar Filme Int.", "Duração +150min"] },
        { title: "A Paixão de Joana d'Arc", attrs: ["Preto e Branco", "França", "Cinema Mudo"] },
        { title: "The Room", attrs: [] }, // Distrator
        { title: "Sharknado", attrs: [] }, // Distrator
        { title: "Zona de Interesse", attrs: ["Venceu Oscar Filme Int.", "Coprodução Internacional", "Década de 2020"] },
        { title: "Morangos Silvestres", attrs: ["Preto e Branco", "Direção: Ingmar Bergman"] },
        { title: "Central do Brasil", attrs: ["Brasil", "Indicado Oscar Filme Int."] },
        { title: "Psicose", attrs: ["Preto e Branco", "Direção: Alfred Hitchcock", "EUA"] },
        { title: "O Auto da Compadecida", attrs: ["Brasil", "Baseado em Livro"] },
        { title: "Cidadão Kane", attrs: ["Preto e Branco", "EUA"] },
        { title: "O Menino e o Mundo", attrs: ["Brasil", "Indicado Oscar Filme Int."] },
        { title: "Pulp Fiction", attrs: ["Venceu Palma de Ouro", "EUA"] },
        { title: "O Sétimo Selo", attrs: ["Preto e Branco", "Direção: Ingmar Bergman"] },
        { title: "A Grande Beleza", attrs: ["Venceu Oscar Filme Int."] },
        { title: "Tudo em Todo Lugar...", attrs: ["Venceu Oscar Melhor Filme", "EUA", "Década de 2020"] },
        { title: "Persona", attrs: ["Preto e Branco", "Direção: Ingmar Bergman"] },
        { title: "Moonlight", attrs: ["Venceu Oscar Melhor Filme", "EUA"] },
        { title: "Marte Um", attrs: ["Brasil", "Década de 2020"] },
        { title: "Oldboy", attrs: ["Produção Asiática"] },
        { title: "Janela Indiscreta", attrs: ["Direção: Alfred Hitchcock", "EUA"] },
        { title: "Titanic", attrs: ["Venceu Oscar Melhor Filme", "Duração +150min", "EUA"] },
        { title: "Metrópolis", attrs: ["Preto e Branco", "Cinema Mudo"] },
        { title: "Limiar", attrs: ["Brasil"] },
        { title: "Retrato de uma Jovem em Chamas", attrs: ["França", "Venceu Prêmio em Cannes"] },
        { title: "O Lobo de Wall Street", attrs: ["EUA", "Duração +150min"] },
        { title: "Um Corpo que Cai", attrs: ["Direção: Alfred Hitchcock", "EUA"] },
        { title: "Nada de Novo no Front (2022)", attrs: ["Venceu Oscar Filme Int.", "Estreia em Streaming", "Baseado em Livro"] },
        { title: "A Garota no Trem", attrs: ["Baseado em Livro"] },
        { title: "Dona Flor e Seus Dois Maridos", attrs: ["Brasil", "Baseado em Livro"] },
        { title: "A Doce Vida", attrs: ["Preto e Branco", "Venceu Palma de Ouro"] },
        { title: "O Tempo que Resta", attrs: [] } // Distrator
    ];

    const gridAttributes = [
        "Brasil", "EUA", "França", "Preto e Branco",
        "Venceu Palma de Ouro", "Venceu Oscar Melhor Filme", "Venceu Oscar Filme Int.", "Indicado Oscar Filme Int.",
        "Década de 2020", "Duração +150min", "Baseado em Livro", "Direção: Ingmar Bergman",
        "Direção: Alfred Hitchcock", "Produção Asiática", "Venceu Prêmio em Cannes", "Estreia em Streaming"
    ];

    let currentIndex = 0;
    let score = 0;
    let wildcardUsed = false;

    function initGame() {
        const grid = document.getElementById('bingo-grid');
        grid.innerHTML = '';
        gridAttributes.forEach(attr => {
            const cell = document.createElement('div');
            cell.className = 'cell';
            cell.innerText = attr;
            cell.id = "attr-" + attr.replace(/[:\s+]/g, '-');
            cell.onclick = () => checkAttribute(cell, attr);
            grid.appendChild(cell);
        });
        updateMovie();
    }

    function updateMovie() {
        if (currentIndex >= movies.length) {
            endGame(score === 16 ? "BINGO COMPLETO." : "LISTA ENCERRADA.");
            return;
        }
        document.getElementById('movie-display').innerText = movies[currentIndex].title;
        document.getElementById('current-idx').innerText = currentIndex + 1;
    }

    function checkAttribute(element, attr) {
        if (element.classList.contains('correct')) return;
        const movie = movies[currentIndex];
        if (movie.attrs.includes(attr)) {
            element.classList.add('correct');
            score++;
            document.getElementById('score').innerText = score;
            if (score === 16) {
                setTimeout(() => endGame("BINGO."), 300);
            } else {
                currentIndex++;
                updateMovie();
            }
        } else {
            element.classList.add('wrong');
            setTimeout(() => {
                element.classList.remove('wrong');
                currentIndex += 2;
                updateMovie();
            }, 500);
        }
    }

    function skipMovie() {
        currentIndex++;
        updateMovie();
    }

    function useWildcard() {
        if (wildcardUsed) return;
        const movie = movies[currentIndex];
        let marked = false;
        gridAttributes.forEach(attr => {
            if (movie.attrs.includes(attr)) {
                const cell = document.getElementById("attr-" + attr.replace(/[:\s+]/g, '-'));
                if (!cell.classList.contains('correct')) {
                    cell.classList.add('correct');
                    score++;
                    marked = true;
                }
            }
        });
        if (marked) {
            wildcardUsed = true;
            document.getElementById('score').innerText = score;
            document.getElementById('wildcard-btn').style.opacity = "0.2";
            currentIndex++;
            updateMovie();
        }
    }

    function endGame(msg) {
        document.getElementById('game-container').innerHTML = `<h2>${msg}</h2><p>${score}/16 ACERTOS</p><button onclick="location.reload()">REINICIAR</button>`;
    }

    initGame();
</script>
</body>
</html>
