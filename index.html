<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cine Bingo - Versão Crítica</title>
    <style>
        :root { --primary: #0f0f0f; --secondary: #d4a017; --correct: #1b5e20; --wrong: #b71c1c; --text: #e0e0e0; }
        body { font-family: 'Georgia', serif; background: var(--primary); color: var(--text); display: flex; flex-direction: column; align-items: center; padding: 15px; margin: 0; }
        #game-container { max-width: 450px; width: 100%; text-align: center; }
        #movie-display { font-size: 1.3rem; font-weight: bold; margin: 20px 0; background: #1a1a1a; padding: 25px; border-radius: 4px; border: 1px solid #333; min-height: 50px; display: flex; align-items: center; justify-content: center; letter-spacing: 1px; }
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-bottom: 20px; }
        .cell { background: #222; aspect-ratio: 1/1; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; padding: 6px; cursor: pointer; border-radius: 2px; transition: 0.3s; text-align: center; border: 1px solid #333; line-height: 1.2; text-transform: uppercase; }
        .cell.correct { background: var(--correct); border-color: #2e7d32; cursor: default; }
        .cell.wrong { background: var(--wrong); }
        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        button { padding: 15px; cursor: pointer; border: 1px solid #444; border-radius: 4px; font-weight: bold; font-family: 'Arial', sans-serif; background: #222; color: white; }
        #skip-btn:hover { background: #333; }
        #wildcard-btn { color: var(--secondary); border-color: var(--secondary); }
        #status { margin-top: 20px; font-size: 0.8rem; color: #666; text-transform: uppercase; }
    </style>
</head>
<body>

<div id="game-container">
    <h1 style="font-weight: normal; letter-spacing: 4px;">CINE BINGO</h1>
    <div id="status">Obra <span id="current-idx">1</span>/40 — Progresso: <span id="score">0</span>/16</div>
    <div id="movie-display">CARREGANDO...</div>
    <div class="grid" id="bingo-grid"></div>
    <div class="controls">
        <button id="skip-btn" onclick="skipMovie()">SKIP / PRÓXIMO</button>
        <button id="wildcard-btn" onclick="useWildcard()">WILDCARD ✨</button>
    </div>
</div>

<script>
    // Critérios objetivos: Premiações, Décadas, Nacionalidade e Fatos Técnicos.
    const movies = [
        { title: "Ouro Preto (Doc)", attrs: [] }, // Distrator
        { title: "Anatomia de uma Queda", attrs: ["França", "Venceu Palma de Ouro", "Década de 2020"] },
        { title: "Vidas Secas", attrs: ["Brasil", "Preto e Branco", "Baseado em Livro"] },
        { title: "Barbie", attrs: ["EUA", "Década de 2020"] },
        { title: "O Sétimo Selo", attrs: ["Preto e Branco", "Direção: Ingmar Bergman"] },
        { title: "Zona de Interesse", attrs: ["Venceu Oscar Filme Int.", "Década de 2020"] },
        { title: "A Hora da Estrela", attrs: ["Brasil", "Baseado em Livro"] },
        { title: "The Room", attrs: [] }, // Distrator
        { title: "Parasita", attrs: ["Venceu Palma de Ouro", "Venceu Oscar Melhor Filme"] },
        { title: "Psicose", attrs: ["Preto e Branco", "Direção: Alfred Hitchcock"] },
        { title: "Cidade de Deus", attrs: ["Brasil", "Baseado em Livro"] },
        { title: "O Irlandês", attrs: ["Duração +150min", "EUA"] },
        { title: "Tudo em Todo Lugar...", attrs: ["Venceu Oscar Melhor Filme", "EUA"] },
        { title: "Deus e o Diabo na Terra do Sol", attrs: ["Brasil", "Preto e Branco"] },
        { title: "Interestelar", attrs: ["Duração +150min", "EUA"] },
        { title: "Pulp Fiction", attrs: ["Venceu Palma de Ouro", "EUA"] },
        { title: "Noites de Cabíria", attrs: ["Venceu Oscar Filme Int.", "Preto e Branco"] },
        { title: "Central do Brasil", attrs: ["Brasil", "Indicado Oscar Filme Int."] },
        { title: "Era uma Vez em Hollywood", attrs: ["Duração +150min", "EUA"] },
        { title: "Morangos Silvestres", attrs: ["Preto e Branco", "Direção: Ingmar Bergman"] },
        { title: "O Menino e o Mundo", attrs: ["Brasil", "Indicado Oscar Filme Int."] },
        { title: "O Labirinto do Fauno", attrs: ["Venceu Oscar Filme Int."] },
        { title: "O Lobo de Wall Street", attrs: ["Duração +150min", "EUA"] },
        { title: "Drive My Car", attrs: ["Venceu Oscar Filme Int.", "Duração +150min"] },
        { title: "Pixote: A Lei do Mais Fraco", attrs: ["Brasil"] },
        { title: "Janela Indiscreta", attrs: ["Direção: Alfred Hitchcock", "EUA"] },
        { title: "Titanic", attrs: ["Venceu Oscar Melhor Filme", "Duração +150min"] },
        { title: "O Auto da Compadecida", attrs: ["Brasil", "Baseado em Livro"] },
        { title: "Um Corpo que Cai", attrs: ["Direção: Alfred Hitchcock"] },
        { title: "Grande Sertão (2024)", attrs: ["Brasil", "Baseado em Livro"] },
        { title: "A Grande Beleza", attrs: ["Venceu Oscar Filme Int."] },
        { title: "Blade Runner", attrs: ["EUA"] },
        { title: "Metrópolis", attrs: ["Preto e Branco"] },
        { title: "Dogville", attrs: ["Duração +150min"] },
        { title: "Romeu + Julieta", attrs: ["Baseado em Livro"] },
        { title: "Velozes e Furiosos 10", attrs: ["Década de 2020"] },
        { title: "Amarelo Manga", attrs: ["Brasil"] },
        { title: "Persona", attrs: ["Preto e Branco", "Direção: Ingmar Bergman"] },
        { title: "Clube da Luta", attrs: ["Baseado em Livro", "EUA"] },
        { title: "A Paixão de Joana d'Arc", attrs: ["Preto e Branco"] }
    ];

    const gridAttributes = [
        "Brasil", "EUA", "França", "Preto e Branco",
        "Venceu Palma de Ouro", "Venceu Oscar Melhor Filme", "Venceu Oscar Filme Int.", "Indicado Oscar Filme Int.",
        "Década de 2020", "Duração +150min", "Baseado em Livro", "Direção: Ingmar Bergman",
        "Direção: Alfred Hitchcock", "Produção Asiática", "Estreia em Cannes", "Cinema Mudo"
    ];

    let currentIndex = 0;
    let score = 0;
    let wildcardUsed = false;

    function initGame() {
        const grid = document.getElementById('bingo-grid');
        grid.innerHTML = '';
        gridAttributes.forEach(attr => {
            const cell = document.createElement('div');
            cell.className = 'cell';
            cell.innerText = attr;
            cell.id = "attr-" + attr.replace(/[:\s+]/g, '-');
            cell.onclick = () => checkAttribute(cell, attr);
            grid.appendChild(cell);
        });
        updateMovie();
    }

    function updateMovie() {
        if (currentIndex >= movies.length) {
            endGame(score === 16 ? "PARABÉNS. CONHECIMENTO VALIDADO." : "FIM DA LISTA. RESULTADO INSUFICIENTE.");
            return;
        }
        document.getElementById('movie-display').innerText = movies[currentIndex].title.toUpperCase();
        document.getElementById('current-idx').innerText = currentIndex + 1;
    }

    function checkAttribute(element, attr) {
        if (element.classList.contains('correct')) return;
        const movie = movies[currentIndex];
        if (movie.attrs.includes(attr)) {
            element.classList.add('correct');
            score++;
            document.getElementById('score').innerText = score;
            if (score === 16) {
                setTimeout(() => endGame("BINGO! EXCELENTE PERCEPÇÃO."), 300);
            } else {
                currentIndex++;
                updateMovie();
            }
        } else {
            element.classList.add('wrong');
            setTimeout(() => {
                element.classList.remove('wrong');
                currentIndex += 2;
                updateMovie();
            }, 500);
        }
    }

    function skipMovie() {
        currentIndex++;
        updateMovie();
    }

    function useWildcard() {
        if (wildcardUsed) return;
        const movie = movies[currentIndex];
        let marked = false;
        gridAttributes.forEach(attr => {
            if (movie.attrs.includes(attr)) {
                const cell = document.getElementById("attr-" + attr.replace(/[:\s+]/g, '-'));
                if (!cell.classList.contains('correct')) {
                    cell.classList.add('correct');
                    score++;
                    marked = true;
                }
            }
        });
        if (marked) {
            wildcardUsed = true;
            document.getElementById('score').innerText = score;
            document.getElementById('wildcard-btn').style.opacity = "0.2";
            currentIndex++;
            updateMovie();
        }
    }

    function endGame(msg) {
        document.getElementById('game-container').innerHTML = `<h2 style="letter-spacing:2px;">${msg}</h2><p>Você completou ${score}/16 da cartela.</p><button onclick="location.reload()">RECOMEÇAR</button>`;
    }

    initGame();
</script>
</body>
</html>
